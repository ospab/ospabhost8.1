# –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏: –°–µ—Å—Å–∏–∏, QR-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —É–ª—É—á—à–µ–Ω–Ω—ã–µ —Ç–∏–∫–µ—Ç—ã

## üìã –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### ‚úÖ Backend

1. **–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏—è–º–∏**
   - –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ `session` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è JWT refresh tokens
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ: IP, user-agent, —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –±—Ä–∞—É–∑–µ—Ä, –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è
   - –õ–∏–º–∏—Ç: –º–∞–∫—Å–∏–º—É–º 10 —Å–µ—Å—Å–∏–π –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Å–µ—Å—Å–∏–π (30 –¥–Ω–µ–π)
   - API endpoints:
     - `GET /api/sessions` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π
     - `GET /api/sessions/history` - –∏—Å—Ç–æ—Ä–∏—è –≤—Ö–æ–¥–æ–≤
     - `DELETE /api/sessions/:id` - –∑–∞–≤–µ—Ä—à–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Å–µ—Å—Å–∏—é
     - `DELETE /api/sessions/others/all` - –∑–∞–≤–µ—Ä—à–∏—Ç—å –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–µ—Å—Å–∏–∏

2. **QR-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–∫–∞–∫ –≤ Telegram Web)**
   - –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ `qr_login_request`
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö QR-–∫–æ–¥–æ–≤ (crypto-based)
   - –í—Ä–µ–º—è –∂–∏–∑–Ω–∏: 60 —Å–µ–∫—É–Ω–¥
   - Polling –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ (–∫–∞–∂–¥—ã–µ 2 —Å–µ–∫)
   - API endpoints:
     - `POST /api/qr-auth/generate` - —Å–æ–∑–¥–∞—Ç—å QR-–∫–æ–¥ (–ø—É–±–ª–∏—á–Ω—ã–π)
     - `GET /api/qr-auth/status/:code` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å (–ø—É–±–ª–∏—á–Ω—ã–π, polling)
     - `POST /api/qr-auth/confirm` - –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—Ö–æ–¥ —Å –º–æ–±–∏–ª—å–Ω–æ–≥–æ (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
     - `POST /api/qr-auth/reject` - –æ—Ç–∫–ª–æ–Ω–∏—Ç—å –≤—Ö–æ–¥ (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)

3. **–£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–∏–∫–µ—Ç–æ–≤**
   - –ù–æ–≤—ã–µ –ø–æ–ª—è –≤ —Ç–∞–±–ª–∏—Ü–µ `ticket`:
     - `priority` (low/normal/high/urgent)
     - `category` (general/technical/billing/other)
     - `assignedTo` (–æ–ø–µ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä–æ–º—É –Ω–∞–∑–Ω–∞—á–µ–Ω —Ç–∏–∫–µ—Ç)
     - `closedAt` (–¥–∞—Ç–∞ –∑–∞–∫—Ä—ã—Ç–∏—è)
   - –ù–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã:
     - `ticket_attachment` - —Ñ–∞–π–ª—ã –∫ —Ç–∏–∫–µ—Ç–∞–º
     - `response_attachment` - —Ñ–∞–π–ª—ã –∫ –æ—Ç–≤–µ—Ç–∞–º
   - –ù–æ–≤–æ–µ –ø–æ–ª–µ –≤ `response`:
     - `isInternal` - –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∞–π–ª–æ–≤: max 5 —Ñ–∞–π–ª–æ–≤ –ø–æ 10MB (jpeg/png/gif/pdf/doc/txt/zip)
   - –°—Ç–∞—Ç—É—Å—ã: open ‚Üí in_progress ‚Üí awaiting_reply ‚Üí resolved ‚Üí closed
   - API endpoints:
     - `GET /api/ticket/:id` - –ø–æ–ª—É—á–∏—Ç—å –æ–¥–∏–Ω —Ç–∏–∫–µ—Ç
     - `POST /api/ticket/status` - –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å (—Ç–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã)
     - `POST /api/ticket/assign` - –Ω–∞–∑–Ω–∞—á–∏—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ (—Ç–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã)
     - –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ endpoints –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π

### ‚úÖ Frontend

1. **–°—Ç—Ä–∞–Ω–∏—Ü–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏—è–º–∏**
   - –ü—É—Ç—å: `/dashboard/settings/sessions`
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: `frontend/src/pages/dashboard/settings/sessions.tsx`
   - –§—É–Ω–∫—Ü–∏–∏:
     - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏
     - –¢–µ–∫—É—â–∞—è —Å–µ—Å—Å–∏—è –≤—ã–¥–µ–ª–µ–Ω–∞ –∑–µ–ª—ë–Ω—ã–º
     - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –±—Ä–∞—É–∑–µ—Ä, IP, –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è, –ø–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
     - –ö–Ω–æ–ø–∫–∞ "–ó–∞–≤–µ—Ä—à–∏—Ç—å —Å–µ—Å—Å–∏—é" –Ω–∞ –∫–∞–∂–¥–æ–π –∫–∞—Ä—Ç–æ—á–∫–µ
     - –ö–Ω–æ–ø–∫–∞ "–ó–∞–≤–µ—Ä—à–∏—Ç—å –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–µ—Å—Å–∏–∏"
     - –†–∞–∑–¥–µ–ª –∏—Å—Ç–æ—Ä–∏–∏ –≤—Ö–æ–¥–æ–≤ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 –ø–æ–ø—ã—Ç–æ–∫)
     - –°–æ–≤–µ—Ç—ã –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

2. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç QR-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**
   - –ü—É—Ç—å: `frontend/src/components/QRLogin.tsx`
   - –§—É–Ω–∫—Ü–∏–∏:
     - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ QR-–∫–æ–¥–∞
     - –¢–∞–π–º–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á—ë—Ç–∞ (60 —Å–µ–∫—É–Ω–¥)
     - –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç—ë–∫—à–µ–≥–æ QR
     - Polling —Å—Ç–∞—Ç—É—Å–∞ –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
     - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥ –ø—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏
     - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - TODO: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É `/login` –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É –ø–∞—Ä–æ–ª—é

3. **–ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–ø–∏—Å–∫–∞ —Ç–∏–∫–µ—Ç–æ–≤**
   - –ü—É—Ç—å: `/dashboard/tickets-new`
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: `frontend/src/pages/dashboard/tickets/index.tsx`
   - –§—É–Ω–∫—Ü–∏–∏:
     - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π card-–¥–∏–∑–∞–π–Ω
     - –§–∏–ª—å—Ç—Ä—ã –ø–æ —Å—Ç–∞—Ç—É—Å—É, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É
     - –¶–≤–µ—Ç–Ω—ã–µ –±–µ–π–¥–∂–∏ —Å—Ç–∞—Ç—É—Å–æ–≤
     - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞
     - –ò–∫–æ–Ω–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
     - –°—á—ë—Ç—á–∏–∫ –æ—Ç–≤–µ—Ç–æ–≤
     - –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
     - –ö–Ω–æ–ø–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ç–∏–∫–µ—Ç–∞

4. **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ç–∏–∫–µ—Ç–∞**
   - –ü—É—Ç—å: `/dashboard/tickets-new/:id`
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: `frontend/src/pages/dashboard/tickets/detail.tsx`
   - –§—É–Ω–∫—Ü–∏–∏:
     - –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–∏–∫–µ—Ç–µ
     - –ò—Å—Ç–æ—Ä–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –≤ —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ
     - –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (–∂—ë–ª—Ç—ã–π —Ñ–æ–Ω, —Ç–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã)
     - –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
     - –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è —Ç–∏–∫–µ—Ç–∞
     - –ë–µ–π–¥–∂–∏ —Å—Ç–∞—Ç—É—Å–∞ –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞
     - –ê–≤–∞—Ç–∞—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

5. **–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∏–∫–µ—Ç–∞**
   - –ü—É—Ç—å: `/dashboard/tickets/new`
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: `frontend/src/pages/dashboard/tickets/new.tsx`
   - –§—É–Ω–∫—Ü–∏–∏:
     - –§–æ—Ä–º–∞ —Å –ø–æ–ª—è–º–∏: —Ç–µ–º–∞, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, –æ–ø–∏—Å–∞–Ω–∏–µ
     - –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π
     - –°–æ–≤–µ—Ç—ã –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —Ç–∏–∫–µ—Ç–æ–≤
     - –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ç–∏–∫–µ—Ç

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### Backend
```
backend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ index.ts (–¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ routes)
‚îÇ   ‚îî‚îÄ‚îÄ modules/
‚îÇ       ‚îú‚îÄ‚îÄ session/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ session.controller.ts (NEW)
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ session.routes.ts (NEW)
‚îÇ       ‚îú‚îÄ‚îÄ qr-auth/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ qr-auth.controller.ts (NEW)
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ qr-auth.routes.ts (NEW)
‚îÇ       ‚îî‚îÄ‚îÄ ticket/
‚îÇ           ‚îú‚îÄ‚îÄ ticket.controller.ts (REWRITTEN)
‚îÇ           ‚îî‚îÄ‚îÄ ticket.routes.ts (UPDATED)
‚îú‚îÄ‚îÄ prisma/
‚îÇ   ‚îú‚îÄ‚îÄ schema.prisma (–æ–±–Ω–æ–≤–ª–µ–Ω–∞)
‚îÇ   ‚îú‚îÄ‚îÄ apply-migration.ts (NEW - —Å–∫—Ä–∏–ø—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏)
‚îÇ   ‚îî‚îÄ‚îÄ migrations_manual/
‚îÇ       ‚îî‚îÄ‚îÄ add_sessions_qr_tickets_features.sql (NEW)
‚îî‚îÄ‚îÄ uploads/
    ‚îî‚îÄ‚îÄ tickets/ (NEW)
```

### Frontend
```
frontend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ QRLogin.tsx (NEW)
‚îÇ   ‚îî‚îÄ‚îÄ pages/
‚îÇ       ‚îî‚îÄ‚îÄ dashboard/
‚îÇ           ‚îú‚îÄ‚îÄ mainpage.tsx (–¥–æ–±–∞–≤–ª–µ–Ω—ã routes)
‚îÇ           ‚îú‚îÄ‚îÄ settings/
‚îÇ           ‚îÇ   ‚îî‚îÄ‚îÄ sessions.tsx (NEW)
‚îÇ           ‚îî‚îÄ‚îÄ tickets/
‚îÇ               ‚îú‚îÄ‚îÄ index.tsx (NEW)
‚îÇ               ‚îú‚îÄ‚îÄ detail.tsx (NEW)
‚îÇ               ‚îî‚îÄ‚îÄ new.tsx (NEW)
‚îî‚îÄ‚îÄ package.json (–¥–æ–±–∞–≤–ª–µ–Ω qrcode.react)
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **–ú–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∞**: ‚úÖ
- **Prisma client —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω**: ‚úÖ
- **–ù–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã**:
  - `session` (10 —Å—Ç–æ–ª–±—Ü–æ–≤)
  - `login_history` (9 —Å—Ç–æ–ª–±—Ü–æ–≤)
  - `qr_login_request` (9 —Å—Ç–æ–ª–±—Ü–æ–≤)
  - `ticket_attachment` (7 —Å—Ç–æ–ª–±—Ü–æ–≤)
  - `response_attachment` (7 —Å—Ç–æ–ª–±—Ü–æ–≤)

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- **Backend**: –ë–µ–∑ –Ω–æ–≤—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ)
- **Frontend**: 
  - `qrcode.react` ‚úÖ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

### –ö–æ–º–ø–∏–ª—è—Ü–∏—è
- **Backend**: ‚úÖ –°–æ–±—Ä–∞–Ω –±–µ–∑ –æ—à–∏–±–æ–∫ (`npm run build`)
- **Frontend**: ‚úÖ –°–æ–±—Ä–∞–Ω –±–µ–∑ –æ—à–∏–±–æ–∫ (`npm run build`)

## üìù TODO

### –û—Å—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å:

1. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è QR-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞** ‚è≥
   - –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å "–ü–∞—Ä–æ–ª—å / QR-–∫–æ–¥" –Ω–∞ `/login`
   - –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `QRLogin`

2. **–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ —Å–µ—Å—Å–∏–∏ –≤ –º–µ–Ω—é –Ω–∞—Å—Ç—Ä–æ–µ–∫** ‚è≥
   - –í —Å–∞–π–¥–±–∞—Ä–µ –¥–∞—à–±–æ—Ä–¥–∞ –¥–æ–±–∞–≤–∏—Ç—å –ø—É–Ω–∫—Ç "–°–µ—Å—Å–∏–∏" –≤ —Ä–∞–∑–¥–µ–ª–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫

3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚è≥
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ/–ø—Ä–æ—Å–º–æ—Ç—Ä/–æ—Ç–≤–µ—Ç –Ω–∞ —Ç–∏–∫–µ—Ç—ã
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã —Ç–∏–∫–µ—Ç–æ–≤
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å QR-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é (—Ç—Ä–µ–±—É–µ—Ç—Å—è –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)

4. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**:
   - WebSocket –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Ç–∏–∫–µ—Ç–æ–≤
   - –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –≤ —Ç–∏–∫–µ—Ç—ã (multer –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –Ω—É–∂–µ–Ω UI)
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è API –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ (—Å–µ–π—á–∞—Å –∑–∞–≥–ª—É—à–∫–∞ "–†–æ—Å—Å–∏—è, –ú–æ—Å–∫–≤–∞")
   - Email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –æ—Ç–≤–µ—Ç–∞—Ö
   - Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

## üöÄ –î–µ–ø–ª–æ–π

### Backend:
```bash
cd backend
npm run build
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å PM2 –∏–ª–∏ —Å–µ—Ä–≤–µ—Ä
pm2 reload ecosystem.config.js
```

### Frontend:
```bash
cd frontend
npm run build
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å dist/ –Ω–∞ production —Å–µ—Ä–≤–µ—Ä
```

## üîó API Endpoints

### –°–µ—Å—Å–∏–∏
- `GET /api/sessions` - –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π
- `GET /api/sessions/history?limit=20` - –ò—Å—Ç–æ—Ä–∏—è –≤—Ö–æ–¥–æ–≤
- `DELETE /api/sessions/:id` - –ó–∞–≤–µ—Ä—à–∏—Ç—å —Å–µ—Å—Å–∏—é
- `DELETE /api/sessions/others/all` - –ó–∞–≤–µ—Ä—à–∏—Ç—å –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ

### QR-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `POST /api/qr-auth/generate` - –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å QR
- `GET /api/qr-auth/status/:code` - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
- `POST /api/qr-auth/confirm` - –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—Ö–æ–¥
- `POST /api/qr-auth/reject` - –û—Ç–∫–ª–æ–Ω–∏—Ç—å –≤—Ö–æ–¥

### –¢–∏–∫–µ—Ç—ã (–Ω–æ–≤—ã–µ/–æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ)
- `GET /api/ticket/:id` - –ü–æ–ª—É—á–∏—Ç—å –æ–¥–∏–Ω —Ç–∏–∫–µ—Ç
- `POST /api/ticket/status` - –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å
- `POST /api/ticket/assign` - –ù–∞–∑–Ω–∞—á–∏—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞

## üì± –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–î–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã QR-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ:
1. –£–º–µ–µ—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å QR-–∫–æ–¥—ã
2. –ú–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å POST –∑–∞–ø—Ä–æ—Å –Ω–∞ `/api/qr-auth/confirm` —Å –∫–æ–¥–æ–º
3. –ü–µ—Ä–µ–¥–∞—ë—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–§–æ—Ä–º–∞—Ç QR-–∫–æ–¥–∞: `ospabhost://qr-login?code={—É–Ω–∏–∫–∞–ª—å–Ω—ã–π_–∫–æ–¥}`

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 9 –Ω–æ—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å**: Backend ‚úÖ | Frontend ‚úÖ | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚è≥
