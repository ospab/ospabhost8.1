# Ð˜Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ Ð¿Ð¾ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸ÑŽ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¹ Ñ‚Ð°Ñ€Ð¸Ñ„Ð¾Ð²

## âš ï¸ Ð’ÐÐ–ÐÐž: Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¾Ð´Ð¸Ð½ Ð¸Ð· Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð¾Ð² Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 1: Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð°Ñ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ñ (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ)
Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ðµ ÑÐµÑ€Ð²ÐµÑ€Ñ‹ Ð¸ Ñ‚Ð°Ñ€Ð¸Ñ„Ñ‹, Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐµÑ‚ Ð½Ð¾Ð²Ñ‹Ðµ Ñ‚Ð°Ñ€Ð¸Ñ„Ñ‹.

**Ð¤Ð°Ð¹Ð»:** `backend/prisma/safe_tariff_migration.sql`

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 2: ÐŸÐ¾Ð»Ð½Ð°Ñ Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ° (Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸!)
Ð£Ð´Ð°Ð»ÑÐµÑ‚ Ð’Ð¡Ð• ÑÐµÑ€Ð²ÐµÑ€Ñ‹, Ð¿Ð»Ð°Ñ‚ÐµÐ¶Ð¸ Ð¸ Ñ‚Ð°Ñ€Ð¸Ñ„Ñ‹. ÐÐ°Ñ‡Ð¸Ð½Ð°ÐµÑ‚ Ñ Ñ‡Ð¸ÑÑ‚Ð¾Ð³Ð¾ Ð»Ð¸ÑÑ‚Ð°.

**Ð¤Ð°Ð¹Ð»:** `backend/prisma/clean_slate_migration.sql`

---

## ðŸ“‹ ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹ (Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 1 - Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð°Ñ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ñ):

### 1. ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÐµÑÑŒ Ðº MySQL

```bash
mysql -u root -p ospabhost
```

Ð˜Ð»Ð¸ Ñ‡ÐµÑ€ÐµÐ· phpMyAdmin / Adminer / Ð´Ñ€ÑƒÐ³Ð¾Ð¹ ÐºÐ»Ð¸ÐµÐ½Ñ‚ Ð‘Ð”.

### 2. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ñ‚ÐµÐºÑƒÑ‰ÐµÐµ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ

```sql
-- ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ñ‚Ðµ, ÐºÐ°ÐºÐ¸Ðµ Ñ‚Ð°Ñ€Ð¸Ñ„Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ
SELECT 
    t.id, 
    t.name, 
    COUNT(s.id) as servers_count
FROM `tariff` t
LEFT JOIN `server` s ON s.tariffId = t.id
GROUP BY t.id, t.name;
```

### 3. ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚Ðµ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½ÑƒÑŽ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸ÑŽ

```bash
source backend/prisma/safe_tariff_migration.sql
```

Ð˜Ð»Ð¸ ÑÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ.

**Ð­Ñ‚Ð¾Ñ‚ ÑÐºÑ€Ð¸Ð¿Ñ‚:**
- âœ… Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ Ð¿Ð¾Ð»Ðµ `category` Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñƒ `tariff`
- âœ… ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ðµ Ñ‚Ð°Ñ€Ð¸Ñ„Ñ‹ (Ð¿Ñ€Ð¸ÑÐ²Ð¾Ð¸Ñ‚ Ð¸Ð¼ `category = 'vps'`)
- âœ… Ð£Ð´Ð°Ð»Ð¸Ñ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð½ÐµÐ¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ðµ Ñ‚Ð°Ñ€Ð¸Ñ„Ñ‹
- âœ… Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ 17 Ð½Ð¾Ð²Ñ‹Ñ… Ñ‚Ð°Ñ€Ð¸Ñ„Ð¾Ð² Ñ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸ÑÐ¼Ð¸

### 4. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚

```sql
SELECT * FROM `tariff` ORDER BY `category`, `price`;
```

---

## ðŸ”¥ ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹ (Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 2 - ÐŸÐ¾Ð»Ð½Ð°Ñ Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ°):

### âš ï¸ Ð’ÐÐ˜ÐœÐÐÐ˜Ð•! Ð­Ñ‚Ð¾ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ Ð’Ð¡Ð• Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¾ ÑÐµÑ€Ð²ÐµÑ€Ð°Ñ…!

Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÐµÑÐ»Ð¸:
- Ð­Ñ‚Ð¾ Ñ‚ÐµÑÑ‚Ð¾Ð²Ð°Ñ/dev ÑÑ€ÐµÐ´Ð°
- Ð’Ñ‹ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ Ð½Ð°Ñ‡Ð°Ñ‚ÑŒ Ñ Ñ‡Ð¸ÑÑ‚Ð¾Ð³Ð¾ Ð»Ð¸ÑÑ‚Ð°
- Ð£ Ð²Ð°Ñ ÐµÑÑ‚ÑŒ Ñ€ÐµÐ·ÐµÑ€Ð²Ð½Ð°Ñ ÐºÐ¾Ð¿Ð¸Ñ Ð‘Ð”

### 1. Ð¡Ð´ÐµÐ»Ð°Ð¹Ñ‚Ðµ Ñ€ÐµÐ·ÐµÑ€Ð²Ð½ÑƒÑŽ ÐºÐ¾Ð¿Ð¸ÑŽ!

```bash
mysqldump -u root -p ospabhost > backup_before_migration.sql
```

### 2. ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚Ðµ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸ÑŽ

```bash
mysql -u root -p ospabhost < backend/prisma/clean_slate_migration.sql
```

**Ð­Ñ‚Ð¾Ñ‚ ÑÐºÑ€Ð¸Ð¿Ñ‚:**
- âŒ Ð£Ð´Ð°Ð»Ð¸Ñ‚ Ð²ÑÐµ Ð¼ÐµÑ‚Ñ€Ð¸ÐºÐ¸ ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð²
- âŒ Ð£Ð´Ð°Ð»Ð¸Ñ‚ Ð²ÑÐµ Ð¿Ð»Ð°Ñ‚ÐµÐ¶Ð¸
- âŒ Ð£Ð´Ð°Ð»Ð¸Ñ‚ Ð²ÑÐµ ÑÐµÑ€Ð²ÐµÑ€Ñ‹
- âŒ Ð£Ð´Ð°Ð»Ð¸Ñ‚ Ð²ÑÐµ Ñ‚Ð°Ñ€Ð¸Ñ„Ñ‹
- âœ… Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ Ð¿Ð¾Ð»Ðµ `category`
- âœ… Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ 17 Ð½Ð¾Ð²Ñ‹Ñ… Ñ‚Ð°Ñ€Ð¸Ñ„Ð¾Ð²

### 3. Ð¡Ð±Ñ€Ð¾ÑÑŒÑ‚Ðµ Prisma ÐºÐ»Ð¸ÐµÐ½Ñ‚ (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)

```bash
cd backend
npx prisma generate
```

---

## ðŸ“ ÐÐ¾Ð²Ñ‹Ðµ Ñ‚Ð°Ñ€Ð¸Ñ„Ñ‹ (17 ÑˆÑ‚):

### VPS/VDS (6 Ñ‚Ð°Ñ€Ð¸Ñ„Ð¾Ð²):

```bash
cd backend
npm start
# Ð¸Ð»Ð¸
node dist/src/index.js
```

## ðŸŽ¨ Ð§Ñ‚Ð¾ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð»Ð¾ÑÑŒ Ð½Ð° frontend:

### ÐÐ¾Ð²Ð°Ñ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ð° Ñ‚Ð°Ñ€Ð¸Ñ„Ð¾Ð²:
- âœ… **3 ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸**: VPS/VDS, Ð¥Ð¾ÑÑ‚Ð¸Ð½Ð³, S3 Ð¥Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ðµ
- âœ… **Ð’ÐºÐ»Ð°Ð´ÐºÐ¸** Ð´Ð»Ñ Ð¿ÐµÑ€ÐµÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ð¼ÐµÐ¶Ð´Ñƒ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸ÑÐ¼Ð¸
- âœ… **Ð˜ÐºÐ¾Ð½ÐºÐ¸** Ð´Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð¹ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸
- âœ… **ÐšÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ¸** Ñ Ð³Ð°Ð»Ð¾Ñ‡ÐºÐ°Ð¼Ð¸ Ð´Ð»Ñ ÑÐ¿Ð¸ÑÐºÐ° Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹
- âœ… **Hero ÑÐµÐºÑ†Ð¸Ñ** Ñ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸ÐµÐ¼
- âœ… **Ð¡ÐµÐºÑ†Ð¸Ñ Ð¿Ñ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²** Ð²Ð½Ð¸Ð·Ñƒ
- âœ… **CTA ÑÐµÐºÑ†Ð¸Ñ** Ñ Ð¿Ñ€Ð¸Ð·Ñ‹Ð²Ð¾Ð¼ Ðº Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸ÑŽ

### Ð”Ð¸Ð·Ð°Ð¹Ð½:
- Ð¡Ð¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ð¹ Ð¼Ð½Ð¾Ð³Ð¾ÑÐµÐºÑ†Ð¸Ð¾Ð½Ð½Ñ‹Ð¹ layout
- Sticky-Ñ‚Ð°Ð±Ñ‹ Ð´Ð»Ñ ÑƒÐ´Ð¾Ð±Ð½Ð¾Ð¹ Ð½Ð°Ð²Ð¸Ð³Ð°Ñ†Ð¸Ð¸
- Hover-ÑÑ„Ñ„ÐµÐºÑ‚Ñ‹ Ð½Ð° ÐºÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ°Ñ…
- Ð“Ñ€Ð°Ð´Ð¸ÐµÐ½Ñ‚Ð½Ñ‹Ðµ Ñ„Ð¾Ð½Ñ‹ Ð´Ð»Ñ Hero Ð¸ CTA ÑÐµÐºÑ†Ð¸Ð¹
- ÐÐ´Ð°Ð¿Ñ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ð´Ð¸Ð·Ð°Ð¹Ð½ Ð´Ð»Ñ Ð²ÑÐµÑ… ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²

## ðŸ“¦ Ð Ð°Ð·Ð¼ÐµÑ€Ñ‹ Ð¿Ð¾ÑÐ»Ðµ ÑÐ±Ð¾Ñ€ÐºÐ¸:

- **index.html**: 6.71 kB (gzip: 2.46 kB)
- **CSS**: 66.64 kB (gzip: 10.64 kB)
- **JS main**: 938.19 kB (gzip: 237.62 kB)
- **React vendor**: 173.20 kB (gzip: 57.00 kB)
- **UI vendor**: 17.26 kB (gzip: 5.99 kB)

## ðŸ”§ Ð˜Ð·Ð¼ÐµÐ½Ñ‘Ð½Ð½Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹:

### Backend:
- âœ… `backend/prisma/schema.prisma` - Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¾ Ð¿Ð¾Ð»Ðµ `category`
- âœ… `backend/prisma/manual_migration_category.sql` - Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ñ Ð‘Ð”
- âœ… `backend/prisma/add_tariff_categories.sql` - Ð½Ð¾Ð²Ñ‹Ðµ Ñ‚Ð°Ñ€Ð¸Ñ„Ñ‹

### Frontend:
- âœ… `frontend/src/pages/tariffs.tsx` - Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð¿ÐµÑ€ÐµÐ´ÐµÐ»Ð°Ð½Ð° ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ð°

## ðŸ“ ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ñ:

1. **Ð¡Ñ‚Ð°Ñ€Ñ‹Ðµ Ñ‚Ð°Ñ€Ð¸Ñ„Ñ‹** Ð½Ðµ ÑƒÐ´Ð°Ð»ÑÑŽÑ‚ÑÑ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸. Ð•ÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð¾ Ð¸Ñ… ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ:
   ```sql
   DELETE FROM `tariff` WHERE `category` IS NULL;
   ```

2. **Category enum**: Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ - `vps`, `hosting`, `s3`

3. **API**: Backend Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð²ÐµÑ€Ð½Ñ‘Ñ‚ Ð¿Ð¾Ð»Ðµ `category` Ð² Ð¾Ñ‚Ð²ÐµÑ‚Ðµ `/api/tariff`

4. **Ð¤Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ñ**: Frontend Ñ„Ð¸Ð»ÑŒÑ‚Ñ€ÑƒÐµÑ‚ Ñ‚Ð°Ñ€Ð¸Ñ„Ñ‹ Ð¿Ð¾ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸ Ð½Ð° ÐºÐ»Ð¸ÐµÐ½Ñ‚ÑÐºÐ¾Ð¹ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ðµ

## ðŸš€ Ð“Ð¾Ñ‚Ð¾Ð²Ð¾ Ðº Ð´ÐµÐ¿Ð»Ð¾ÑŽ!

ÐŸÐ¾ÑÐ»Ðµ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ SQL Ð¸ Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐºÐ° backend Ð²ÑÑ‘ Ð±ÑƒÐ´ÐµÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ.
