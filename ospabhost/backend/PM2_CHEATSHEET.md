# PM2 –®–ø–∞—Ä–≥–∞–ª–∫–∞

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ó–∞–ø—É—Å–∫
pm2 start ecosystem.config.js --env production

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
pm2 stop ospab-backend

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ (–±–µ–∑ –¥–∞—É–Ω—Ç–∞–π–º–∞)
pm2 reload ospab-backend

# –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
pm2 restart ospab-backend

# –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ PM2
pm2 delete ospab-backend

# –°–ø–∏—Å–æ–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
pm2 list

# –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
pm2 show ospab-backend
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
pm2 logs ospab-backend

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫
pm2 logs ospab-backend --lines 100

# –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
pm2 logs ospab-backend --err

# –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤
pm2 flush

# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
pm2 monit
```

## üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫

```bash
# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
pm2 save

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ
pm2 startup

# –û—Ç–º–µ–Ω–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
pm2 unstartup

# –£–¥–∞–ª–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
pm2 kill
```

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ npm

```bash
npm run pm2:start      # –ó–∞–ø—É—Å–∫
npm run pm2:stop       # –û—Å—Ç–∞–Ω–æ–≤–∫–∞
npm run pm2:restart    # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
npm run pm2:logs       # –õ–æ–≥–∏
npm run pm2:monit      # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
npm run pm2:status     # –°—Ç–∞—Ç—É—Å
```

## üì¶ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ PM2

```bash
# –û–±–Ω–æ–≤–∏—Ç—å PM2
npm install -g pm2@latest

# –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã PM2
pm2 update
```

## üêõ –û—Ç–ª–∞–¥–∫–∞

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
pm2 env 0

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ
pm2 info ospab-backend

# –ú–µ—Ç—Ä–∏–∫–∏
pm2 describe ospab-backend
```

## ‚ö° –ë—ã—Å—Ç—Ä—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –î–µ–ø–ª–æ–π –Ω–æ–≤–æ–≥–æ –∫–æ–¥–∞
```bash
git pull origin main
cd backend
npm install
npm run build
pm2 reload ospab-backend
pm2 save
```

### –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
```bash
pm2 kill
pm2 start ecosystem.config.js --env production
pm2 save
pm2 startup  # –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É, –∫–æ—Ç–æ—Ä—É—é –≤—ã–≤–µ–¥–µ—Ç
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```bash
pm2 list
pm2 logs ospab-backend --lines 50
curl http://localhost:5000
```

## üéØ –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- **–ù–∞–∑–≤–∞–Ω–∏–µ**: ospab-backend
- **–≠–∫–∑–µ–º–ø–ª—è—Ä—ã**: 4
- **–†–µ–∂–∏–º**: cluster
- **–ü–æ—Ä—Ç**: 5000
- **–õ–æ–≥–∏**: ./logs/pm2-error.log, ./logs/pm2-out.log
- **–ê–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫**: –î–∞
- **–õ–∏–º–∏—Ç –ø–∞–º—è—Ç–∏**: 500 MB/–ø—Ä–æ—Ü–µ—Å—Å
